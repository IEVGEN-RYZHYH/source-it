<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
		<link media="all" rel="stylesheet" href="css/all.css">
    <title>Runner</title>
	<script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
</head>
<body>
	<div id = "wrapper">
		<div class="player">
			<div class="monitor">
				<div class = "controlPanel">
					<div class="runnerHolder">
						<div class="runnerTrail"></div>
						<div class="runner"></div>
					</div>
		
					<button class="play"><span class="triangle"> &#9654;</span></button>
					<button class="pause"> &#9646;&#9646;</button>
					<button class="stop"><span class="square">&#9646;</span></button>			
					<button class="prev"> &#9664;&#9664; </button>
					<button class="next"> &#9654;&#9654;</button>
					<div class="timer"><span class="minutes">00</span>:<span class="seсonds">00</span></div>
				</div>
			</div>
		</div>
		  <div class="block">

			</div>

	</div><!--wrapper-->
	    <script>

		var n = 0;
		var s= 0;
		var m = 0;
		var intervalID;
		var timerID;
		
		function time(){
			timerID = setInterval(
			function timer(){
			var sec = document.querySelector(".seсonds");
			s++ ;
			if(s<10){
			sec. innerHTML ="0"+s ;}
			else if(s=>10){
					if(s===60){
					s = 0;
					sec. innerHTML = "00" ;
					var min = document.querySelector(".minutes");
					m++;	
						if(m<10){
							min. innerHTML = "0" +m;};
						if(m=>10){
							if(m===60){
								m = 0;
								min. innerHTML = "00" ;}	
							else {stop();}
						min. InnerHTML = m ;}
					};
				sec. innerHTML = s ;}
			},
			1000);
			};
		function show(){
			$('.controlPanel').css("display","block");
		}

			function hide(){
			$('.controlPanel').fadeOut(150);
			};
			
		function play(){
		intervalID = setInterval(function(){
			n++
			var trail = document.querySelector(".runnerTrail");
			trail.style.width = n + "px";
			$('.play').css("display","none");
			$('.pause').fadeIn(150);
			if(trail.style.width === "590px"){
			stop();
			};
			console.log(n);
			},150);
			time();
			return console.log(intervalID);
		};
		function pause(){
			clearInterval(intervalID);
			clearInterval(timerID);
			$('.pause').css("display","none");
			$('.play').fadeIn(150);

		}
		function stop(){
			clearInterval(intervalID);
			clearInterval(timerID);
			$('.play').fadeIn(150);
			n = 0;
			s = 0;
			m = 0;
			intervalID=0;
			timerID=0;
			var trail = document.querySelector(".runnerTrail");
			var sec = document.querySelector(".seсonds");
			var min = document.querySelector(".minutes");
			trail.style.width = n;
			sec. innerHTML = "00" ;
			min. innerHTML = "00" ; 
			
			$('.pause').css("display","none");
		}
		function next(){
			stop();
			play();
			
		}
		function prev(){
			stop();
			play();
		}
		$('.play').on('click', play);
		$('.pause').on('click', pause);
		$('.stop').on('click', stop);
		$('.next').on('click', next);
		$('.prev').on('click', prev);
		$('.monitor').hover(show,hide);

		</script>
</body>
</html>